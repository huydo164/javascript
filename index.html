<!DOCTYPE html>
<html lang="en">

<head>
    <title>Blog Tutorial With Jquery</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--adding Bootstrap CSS-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />

    <!--adding jQuery, Popper.js, and Bootstrap JS-->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>

    <!--Css-->
    <link media="all" type="text/css" rel="stylesheet" href="fontawesome-free-5.15.1-web/css/all.css" />
    <link media="all" type="text/css" rel="stylesheet" href="css/style.css" />

</head>

<body>
    <div id="wrapper">
        <!---header--->
        <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">
            <div class="row fix-w">
                <div class="row col-md-2 mr-3">
                    <div class="col-lg-4">
                        <img src="img/logo.png" alt="">
                    </div>
                    <div class="col-lg-8">
                        <a class="navbar-brand pb-0 mr-0" href="#">Jquery Tutorial</a>
                    </div>
                </div>
                <div class="row col-md-10 pr-0">
                    <div class="col-md-11 pr-0">
                        <input class="form-control form-control-dark w-100" type="text" placeholder="Search" aria-label="Search">
                    </div>
                    <div class="col-md-1">
                        <ul class="navbar-nav px-3">
                            <li class="nav-item text-nowrap">
                                <a class="nav-link" href="#">Sign out</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>

        <div class="container-fluid">
            <div class="row">
                <nav class="col-md-2 d-none d-md-block bg-light sidebar">
                    <div class="sidebar-sticky">
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link active" href="#">
                                    <span data-feather="home"></span> Dashboard <span class="sr-only">(current)</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <span data-feather="file"></span> Orders
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <span data-feather="shopping-cart"></span> Products
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <span data-feather="users"></span> Customers
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <span data-feather="bar-chart-2"></span> Reports
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <span data-feather="layers"></span> Integrations
                                </a>
                            </li>
                        </ul>

                        <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                            <span>Saved reports</span>
                            <a class="d-flex align-items-center text-muted" href="#">
                                <span data-feather="plus-circle"></span>
                            </a>
                        </h6>
                        <ul class="nav flex-column mb-2">
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <span data-feather="file-text"></span> Current month
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <span data-feather="file-text"></span> Last quarter
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <span data-feather="file-text"></span> Social engagement
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">
                                    <span data-feather="file-text"></span> Year-end sale
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
                <div class="col-md-10">
                    <main id="content">
                        <!----search---->
                        <section id="search" class="card">
                            <h4 class="card-header">Search</h4>
                            <div class="card-body">
                                <form action="" method="get" class="form-search">
                                    <div class="form-group">
                                        <span class="control-label">ID</span>
                                        <input type="text" name="" class="form-control search-value" data-column-index='0'>
                                    </div>
                                    <div class="form-group">
                                        <span class="control-label">Name</span>
                                        <input type="text" name="" class="form-control search-value" data-column-index='1'>
                                    </div>
                                </form>
                            </div>
                        </section>
                        <!---Detail--->
                        <section id="detail" class="card">
                            <h4 class="card-header">Detail</h4>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="row form-group">
                                            <div class="col-lg-2">
                                                <label for="" class="control-lable">Name</label>
                                            </div>
                                            <div class="col-lg-10">
                                                <input class="form-control select-value name" type="text" name="name_detail" value="">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row form-group">
                                            <div class="col-lg-2">
                                                <label for="" class="control-lable">Position</label>
                                            </div>
                                            <div class="col-lg-10">
                                                <input class="form-control select-value position" type="text" name="position_detail" value="">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row form-group">
                                            <div class="col-lg-2">
                                                <label for="" class="control-lable">Salary</label>
                                            </div>
                                            <div class="col-lg-10">
                                                <input class="form-control select-value salary" type="text" name="salary_detail" value="">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row form-group">
                                            <div class="col-lg-2">
                                                <label for="" class="control-lable">Date</label>
                                            </div>
                                            <div class="col-lg-10">
                                                <input class="form-control select-value date" type="text" name="date_detail" value="">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row form-group">
                                            <div class="col-lg-2">
                                                <label for="" class="control-lable">Office</label>
                                            </div>
                                            <div class="col-lg-10">
                                                <input class="form-control select-value office" type="text" name="office_detail" value="">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row form-group">
                                            <div class="col-lg-2">
                                                <label for="" class="control-lable">Extn</label>
                                            </div>
                                            <div class="col-lg-10">
                                                <input class="form-control select-value extn" type="text" name="extn_detail" value="">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <!----table-result---->
                        <section id="table-result" class="card">
                            <h4 class="card-header">Table</h4>
                            <div class="card-body">
                                <table id="show">
                                    <thead>
                                        <tr>
                                            <th>id</th>
                                            <th>name</th>
                                            <th>position</th>
                                            <th>salary</th>
                                            <th>start_date</th>
                                            <th>office</th>
                                            <th>extn</th>
                                            <th class="last-th">Delete</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </section>
                    </main>
                </div>
            </div>
        </div>
        <!----button---->
        <section id="button">
            <button type="button">F1</button>
            <button type="button">F2</button>
            <button class="button-search" type="submit">
                <p>F3</p>
                <p>Search</p>
            </button>
            <button type="button">F4</button>
            <button class="button-clear" type="submit">
                <p>F5</p>
                <p>Clear</p>
            </button>
            <button type="button">F6</button>
            <button type="button">F7</button>
            <button type="button">F8</button>
            <button type="button">F9</button>
            <button class="button-save" type="submit">
                <p>F10</p>
                <p>Save</p>    
            </button>
            <button type="button">F11</button>
            <button type="button">F12</button>
        </section>
    </div>
</body>
<!---Js--->

<script type="text/javascript" src="data/blog.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $('.button-search').on('click', Search);
        $('.button-clear').on('click', clear);
        $('.button-save').on('click', save);
        $('.button-delete').on('click', Delete);

        var show = $('#show').DataTable({
            "order": [
                [0, 'asc']
            ],
            "paging": false,
            "info": false,
            "columnDefs": [{
                    targets: [2],
                    render: function(data) {
                        return getPosition(data);
                    }
                }, {
                    targets: [5],
                    render: function(data) {
                        return getOffice(data);
                    },
                }, {
                    targets: [3, 6],
                    render: function(data) {
                        return "<input type='text' class='form-control' value='" + data + "'>";
                    },
                }, {
                    targets: [4],
                    render: function(data) {
                        return "<input type='date' class='form-control' value='" + data + "'>";
                    }
                },

            ],
            data: dataJson.users,
            columns: [{
                data: 'id'
            }, {
                data: 'name'
            }, {
                data: 'position',
            }, {
                data: 'salary'
            }, {
                data: 'start_date'
            }, {
                data: 'office',
            }, {
                data: 'extn'
            }, {
                "render": function() {
                    return '<button type="submit" class="btn btn-danger button-delete">Delete</button>'
                }
            }]
        });

        function getPosition(data) {
            var html = "<select class='form-control'>";
            $.each(dataJson.positions, function() {
                if (this.id == data) {
                    html += "<option selected value='" + this.id + "'>" + this.name + "</option>"
                } else {
                    html += "<option value='" + this.id + "'>" + this.name + "</option>"
                }
            });
            html += "</select>";

            return html;
        };

        function getOffice(data) {
            var html = "<select class='form-control'>";
            $.each(dataJson.offices, function() {
                if (this.id == data) {
                    html += "<option selected  value='" + this.id + "'>" + this.name + "</option>"
                } else {
                    html += "<option value='" + this.id + "'>" + this.name + "</option>"
                }
            });
            html += "</select>";

            return html;
        };

        function Search() {
            show.search('');
            $('.search-value').each(function() {
                if (this.value.length > 0) {
                    show.column($(this).data('columnIndex')).search(this.value);
                }
            });
            show.draw();
        };

        function Delete() {
            show.row($(this).parents('tr')).remove().draw();
        }

        function clear() {
            $('.search-value').val('');
            $('.select-value').val('');
        };

        $('#show tbody tr').click(function() {
            if ($(this).hasClass('selected')) {
                $(this).removeClass('selected');
            } else {
                show.$('tr.selected').removeClass('selected');
                $(this).addClass('selected');

                var select_data = show.row(this).data();
                console.log(select_data);
                $('.name').val(select_data.name);
                $('.position').val(select_data.position);
                $('.salary').val(select_data.salary);
                $('.date').val(select_data.start_date);
                $('.office').val(select_data.office);
                $('.extn').val(select_data.extn);
            }
        });

        function save() {
            console.log(show.rows().data());
        }
    })
</script>

</html>